"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),n=require("@react-pdf/primitives"),r=require("@babel/runtime/helpers/asyncToGenerator"),t=require("@babel/runtime/regenerator"),o=require("fs"),u=require("buffer"),i=require("@react-pdf/font"),a=require("@react-pdf/render"),c=require("@react-pdf/pdfkit"),f=require("@react-pdf/layout"),s=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),d=require("react-reconciler"),l=require("scheduler");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var t=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,t.get?t:{enumerable:!0,get:function(){return e[r]}})}})),n.default=e,Object.freeze(n)}var h,b=p(e),y=v(n),m=p(r),x=p(t),w=p(o),g=p(i),P=p(a),C=p(c),T=p(f),O=p(s),k=p(d),F=function e(n,r){var t=Object.keys(n),o=Object.keys(r);if(t.length!==o.length)return!1;for(var u=0;u<t.length;u+=1){var i=t[u];if("render"===i&&!n[i]!=!r[i])return!1;if("children"!==i&&n[i]!==r[i]){if("object"==typeof n[i]&&"object"==typeof r[i]&&e(n[i],r[i]))continue;return!1}if("children"===i&&("string"==typeof n[i]||"string"==typeof r[i]))return n[i]===r[i]}return!0},S=["style","children"],j=["style"],D={},q=function(e,n){var r="TEXT"===e.type;"TEXT_INSTANCE"!==n.type||r?e.children.push(n):console.warn("Invalid '"+n.value+"' string child outside <Text> component")},B=function(e){var n=e.onChange,r=void 0===n?function(){}:n;return k.default({schedulePassiveEffects:l.unstable_scheduleCallback,cancelPassiveEffects:l.unstable_cancelCallback,supportsMutation:!0,isPrimaryRenderer:!1,warnsIfNotActing:!1,appendInitialChild:q,createInstance:function(e,n){var r=n.style;return n.children,{type:e,box:{},style:r||{},props:O.default(n,S)||{},children:[]}},createTextInstance:function(e,n){return{type:"TEXT_INSTANCE",value:e}},finalizeInitialChildren:function(e,n,r){return!1},getPublicInstance:function(e){return e},prepareForCommit:function(){},clearContainer:function(){},prepareUpdate:function(e,n,r,t){return!F(r,t)},resetAfterCommit:r,resetTextContent:function(e){},getRootHostContext:function(){return D},getChildHostContext:function(){return D},shouldSetTextContent:function(e,n){return!1},now:Date.now,useSyncScheduling:!0,appendChild:q,appendChildToContainer:function(e,n){"ROOT"===e.type?e.document=n:q(e,n)},insertBefore:function(e,n,r){var t,o=null===(t=e.children)||void 0===t?void 0:t.indexOf(r);void 0!==o&&-1!==o&&n&&e.children.splice(o,0,n)},removeChild:function(e,n){var r,t=null===(r=e.children)||void 0===r?void 0:r.indexOf(n);void 0!==t&&-1!==t&&e.children.splice(t,1)},removeChildFromContainer:function(e,n){var r,t=null===(r=e.children)||void 0===r?void 0:r.indexOf(n);void 0!==t&&-1!==t&&e.children.splice(t,1)},commitTextUpdate:function(e,n,r){e.value=r},commitUpdate:function(e,n,r,t,o){var u=o.style,i=O.default(o,j);e.props=i,e.style=u}})},E=new g.default,I={},_=function(e){var n={type:"ROOT",document:null},r=(h=h||B({onChange:function(){for(var e,n=(null===(e=I.change)||void 0===e?void 0:e.slice())||[],r=0;r<n.length;r+=1)n[r]()}})).createContainer(n),t=function(e){h.updateContainer(e,r,null)};e&&t(e);var o=function(){var e=m.default(x.default.mark((function e(r){var t,o,u,i,a,c,f;return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),t=n.document.props||{},o=t.pdfVersion,u=t.language,i=t.pageLayout,a=t.pageMode,c=new C.default({compress:r,pdfVersion:o,lang:u,displayTitle:!0,autoFirstPage:!1,pageLayout:i,pageMode:a}),e.next=6,T.default(n.document,E);case 6:return f=e.sent,e.abrupt("return",P.default(c,f));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(e){void 0===e&&(e={}),n.document.props.onRender&&n.document.props.onRender(e)},i=function(){var e=m.default(x.default.mark((function e(){var n,r;return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,o();case 3:return r=e.sent,e.abrupt("return",new Promise((function(e,t){r.on("data",(function(e){n.push(e instanceof Uint8Array?e:new Uint8Array(e))})),r.on("end",(function(){try{var r=new Blob(n,{type:"application/pdf"});u({blob:r}),e(r)}catch(e){t(e)}}))})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=m.default(x.default.mark((function e(){return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.abrupt("return",o());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=m.default(x.default.mark((function e(){var n,r;return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,o(!1);case 3:return r=e.sent,e.abrupt("return",new Promise((function(e,t){try{r.on("data",(function(e){n+=e})),r.on("end",(function(){u(),e(n)}))}catch(e){t(e)}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{on:function(e,n){I[e]||(I[e]=[]),I[e].push(n)},container:n,toBlob:i,toBuffer:a,toString:c,removeListener:function(e,n){if(I[e]){var r=I[e].indexOf(n);r>-1&&I[e].splice(r,1)}},updateContainer:t}},A=E,L={create:function(e){return e}},R=function(){var e=m.default(x.default.mark((function e(n){var r,t;return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_(n),e.next=3,r.toBuffer();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=m.default(x.default.mark((function e(n,r,t){var o,u;return x.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(n);case 2:return o=e.sent,u=w.default.createWriteStream(r),o.pipe(u),e.abrupt("return",new Promise((function(e,n){u.on("finish",(function(){t&&t(o,r),e(o)})),u.on("error",n)})));case 6:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),M=function(e){return R(e).then((function(e){return new Promise((function(n,r){var t=[];e.on("data",(function(e){return t.push(e)})),e.on("end",(function(){return n(u.Buffer.concat(t))})),e.on("error",(function(e){return r(e)}))}))}))},U=function(e){return M(e).then((function(e){return e.toString()}))},V=function(e){throw new Error(e+" is a web specific API. You're either using this component on Node, or your bundler is not loading react-pdf from the appropriate web build.")},X=function(){V("usePDF")},z=function(){V("PDFViewer")},H=function(){V("PDFDownloadLink")},W=function(){V("BlobProvider")},G=N,Y=b.default({pdf:_,Font:A,version:"3.0.2",StyleSheet:L,usePDF:X,PDFViewer:z,BlobProvider:W,PDFDownloadLink:H,renderToStream:R,renderToString:U,renderToFile:N,render:G},y);exports.BlobProvider=W,exports.Font=A,exports.PDFDownloadLink=H,exports.PDFViewer=z,exports.StyleSheet=L,exports.createRenderer=B,exports.default=Y,exports.pdf=_,exports.render=G,exports.renderToBuffer=M,exports.renderToFile=N,exports.renderToStream=R,exports.renderToString=U,exports.usePDF=X,exports.version="3.0.2",Object.keys(n).forEach((function(e){"default"===e||exports.hasOwnProperty(e)||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})}));
//# sourceMappingURL=react-pdf.cjs.min.js.map
